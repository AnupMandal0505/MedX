<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>OTP</title>
</head>
<style>
:root{
  --blue:#31b085;
  --green: #B6E2A1;
  --white:#fff;
  --red: red;
}
*{
  box-sizing: border-box;
  padding: 0px;
  margin: 0px;
}

body {
  margin: 0;
  padding: 0;
  background: #000000; /* fallback for old browsers */
  background: var(--green);
  font-family:'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;

}
.container {
  border: 1px solid #f1f1f1;
  display: flex;
  flex-flow: column;
  height: fit-content;
  width: fit-content;
  padding: 3%;
  align-items: center;
  justify-content: center;
}
form{
  
  margin-left: 40%;
  margin-top: 15%;
}

input {
  margin: 10px;
  height: 35px;
  width: 35px;
  border: none;
  border-radius: 3px;
  text-align: center;
  font-size: 1.2rem;
  background: #eef2f3;

}
.input:nth-child(1) {
    cursor: pointer;
    pointer-events: all;
}
button {
  color: white;
  font-size: 1.2rem;
  width: 150px;
  height: 40px;
  margin: 25px auto 0px auto;
  border: none;
  border-radius: 5px;
  letter-spacing: 2px;
  cursor: pointer;
  background: #616161; /* fallback for old browsers */
  background: var(--blue)
}
button:hover {
  opacity: 0.8;
}
</style>

<body>
  <form method="get" >
  <div class="container" >
    <div id="inputs" class="inputs" >
      <h2 style="text-align: center;">Enter OTP</h2>
        <input class="OTP1" type="text" 
            inputmode="numeric" maxlength="1" />
        <input class="OTP2" type="text" 
            inputmode="numeric" maxlength="1" />
        <input class="OTP3" type="text" 
            inputmode="numeric" maxlength="1" />
        <input class="OTP4" type="text" 
            inputmode="numeric" maxlength="1" />
    </div>
    <button onclick="otp_checker()">SUBMIT</button>
  </div>
  </form>

  <!--
    <div class="container"> 
        <div class="userInput">
          
            <input type="text" id='ist' maxlength="1" onkeyup="clickEvent(this,'sec')">
            <input type="text" id="sec" maxlength="1" onkeyup="clickEvent(this,'third')">
            <input type="text" id="third" maxlength="1" onkeyup="clickEvent(this,'fourth')">
            <input type="text" id="fourth" maxlength="1" onkeyup="clickEvent(this,'fifth')">
            <input type="text" id="fifth" maxlength="1">
            

        </div>
        
    </div> 
    
    <div class="container">
    <div class="userInput">
      <h2 style="text-align: center;">Enter OTP</h2>
      <form action="#">
      
      <input type="number" />
      <input type="number" disabled />
      <input type="number" disabled />
      <input type="number" disabled />
      <input type="number" disabled />
      
      <button>CONFIRM</button>
      </form>
    </div>
    </div> -->
    
</body>
</html>

<script>

const inputs = document.getElementById("inputs");
  
inputs.addEventListener("input", function (e) {
    const target = e.target;
    const val = target.value;
  
    if (isNaN(val)) {
        target.value = "";
        return;
    }
  
    if (val != "") {
        const next = target.nextElementSibling;
        if (next) {
            next.focus();
        }
    }
});
  
inputs.addEventListener("keyup", function (e) {
    const target = e.target;
    const key = e.key.toLowerCase();
  
    if (key == "backspace" || key == "delete") {
        target.value = "";
        const prev = target.previousElementSibling;
        if (prev) {
            prev.focus();
        }
        return;
    }
});


//check otp
function otp_checker() {
  const a = 1;
  const b = 2;
  const c = 3;
  const d = 4;
  
  const inputBox1 = document.getElementsByClassName("OTP1")[0];
  const inputBox2 = document.getElementsByClassName("OTP2")[0];
  const inputBox3 = document.getElementsByClassName("OTP3")[0];
  const inputBox4 = document.getElementsByClassName("OTP4")[0];

  // Parse the input values to integers
  const digit1 = parseInt(inputBox1.value);
  const digit2 = parseInt(inputBox2.value);
  const digit3 = parseInt(inputBox3.value);
  const digit4 = parseInt(inputBox4.value);

  if (a === digit1 && b === digit2 && c === digit3 && d === digit4) {
    alert("OTP MATCHED!");
    location.replace("login.html");
  } else {
    alert("OTP NOT MATCHED!");
    location.replace("signup.html");
  }
}


// function clickEvent(first,last){
// if(first.value.length){
//   document.getElementById(last).focus();
// }
// }

// const inputs= document.querySelectorAll("input"),
// button=document.querySelectorAll("button");
// inps=forEach((input,index1) => {
//   input.addEventListener("keyup",(e)=>{
//     const currentInput =input,
//     nextInput = input.nextElementSibling ,
//     prevInput= input.previousElementSibling;

//     if(currentInput.value.length >1){
//       currentInput.value="";
//       return;
//     }
//     if (nextInput && nextInput.hasAttribute("disabled") && currentInput.value !== ""){
//      nextInput.removeAttribute("disabled");
//      nextInput.focus();
//     }

//     // if the backspace key is pressed
//     if (e.key - "Backspace") {
//     // iterate over all inputs again
//     inputs.forEach((input, index2) => {
//       if (index1 <= index2 && prevInput) { 
//         input.setAttribute("disabled", true);
//         input.value = "";
//         prevInput.focus();
//       }
//     });
//     }
//     //if the fourth input ( which index number is 3) is not empty and has no //add active class if not then remove the active class. if (!inputs[3].disabled && inputs[3].value != "") { button.classList.add("active");
//     if( !inputs[3].disabled && inputs[3].value !== ""){
//       button.classList.add("active");
//       return;
//     }
//     button.classList.remove("active");
//   });
// });
// //focus the first input which index is 0 on window load 
// window.addEventListener("load", () => inputs[0].focus());

</script>
</body>
</html>